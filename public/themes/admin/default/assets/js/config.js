var Config=function(){var e={SaveParams:function(e){var t=e.parents(".justify-content-sm-center"),a=t.data("configid"),n=t.children().find("#params_key").val(),o=t.children().find("#params_data").val();$.ajax({beforeSend:function(e,t){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(t.type)||e.setRequestHeader("X-CSRFToken",$('meta[name="_token"]').attr("content"))},method:"POST",url:App.GetBaseUrl()+"admin/ajax/config/updateparams",data:{id:a,key:n,data:o},dataType:"json",cache:!1,success:function(e){(e.code=1)?App.NotifToast("success",e.title,e.message):App.NotifToast("error","Erreur",e.message)},error:function(e){console.log(e.responseText)}})},DelParams:function(e){var t=e.parents(".justify-content-sm-center").data("configid");$.ajax({beforeSend:function(e,t){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(t.type)||e.setRequestHeader("X-CSRFToken",$('meta[name="_token"]').attr("content"))},method:"POST",url:App.GetBaseUrl()+"admin/ajax/config/delparams",data:{id:t},dataType:"json",cache:!1,success:function(e){(e.code=1)?App.NotifToast("success",e.title,e.message):App.NotifToast("error","Erreur",e.message)},error:function(e){console.log(e.responseText)}})},init:function(){$(".save-config").click(function(){e.SaveParams($(this))}),$(".del-config").click(function(){e.DelParams($(this))})}};return e}();$(document).ready(function(){Config.init()});