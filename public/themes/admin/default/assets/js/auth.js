var App=function(){var e={GetBaseUrl:function(){return window.location.protocol+"//"+window.location.host+"/"},Alertmessage:function(e,r){$(".message").remove(),$(".login_form").prepend('<div class="message '+e+'">'+r+"</div>")},Form:function(){$(".login_form").submit(function(r){r.preventDefault();var s=$(".mail").val(),o=$(".password").val(),n=$(".remember").is(":checked")?1:0;return s&&o?$.ajax({beforeSend:function(e,r){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(r.type)||e.setRequestHeader("X-CSRFToken",$('meta[name="_token"]').attr("content"))},method:"POST",url:e.GetBaseUrl()+"admin/auth/login_ajax",data:{email:s,password:o,remember:n},dataType:"json",cache:!1,success:function(r){1==r.result?(e.Alertmessage("success","<strong>Succès :</strong> Connexion réussit, redirection en cours..."),$(".mail").css("border","1px solid green"),$(".password").css("border","1px solid green"),setTimeout(function(){window.location.href=e.GetBaseUrl()+"admin"},3e3)):(e.Alertmessage("error","<strong>Erreur :</strong> Merci de vérifier vos informations"),$(".mail").css("border","1px solid red"),$(".password").css("border","1px solid red"))},error:function(e){console.log(e.responseText)}}):(e.Alertmessage("error","<strong>Erreur :</strong> Merci de remplir correctement les champs"),$(".mail").css("border","1px solid red"),$(".password").css("border","1px solid red")),!1})},init:function(){e.Form()}};return e}();