var Comments=function(){var e={ValideComments:function(e){var t=e.parent("li"),n=t.data("comments");$.ajax({beforeSend:function(e,t){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(t.type)||e.setRequestHeader("X-CSRFToken",$('meta[name="_token"]').attr("content"))},method:"POST",url:App.GetBaseUrl()+"admin/ajax/comments/valide",data:{id:n},dataType:"json",cache:!1,success:function(e){(e.code=1)?(App.NotifToast("success",e.title,e.message),t.hide("slow")):App.NotifToast("error","Erreur",e.message)},error:function(e){console.log(e.responseText)}})},RefuseComments:function(e){var t=e.parent("li"),n=t.data("comments");$.ajax({beforeSend:function(e,t){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(t.type)||e.setRequestHeader("X-CSRFToken",$('meta[name="_token"]').attr("content"))},method:"POST",url:App.GetBaseUrl()+"admin/ajax/comments/refuse",data:{id:n},dataType:"json",cache:!1,success:function(e){(e.code=1)?(App.NotifToast("success",e.title,e.message),t.hide("slow")):App.NotifToast("error","Erreur",e.message)},error:function(e){console.log(e.responseText)}})},init:function(){$(".comments-valide").click(function(){e.ValideComments($(this))}),$(".comments-refuse").click(function(){e.RefuseComments($(this))})}};return e}();$(document).ready(function(){Comments.init()});